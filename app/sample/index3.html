<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>sui</title>

    <link rel="stylesheet" href="../plugins/msui-0.6.2/css/sm.min.css">
    <link rel="stylesheet" href="../plugins/msui-0.6.2/css/sm-extend.min.css">
    <script src="../js/zepto.min.js"></script>
    <script>
        $(function () {
            $("#getCode").on("click", function () {
                fn_sendSMS();
            });

            function fn_sendSMS()
            {
                $("#getCode").text("5秒后重新发送").addClass("disabled").off("click");
                intervalId = setInterval(function () {
                    var target = $("#getCode");
                    var num = /^\d{1,2}/.exec(target.text());
                    var currentSecond = parseInt(num[0]);
                    if (currentSecond == 1) {
                        target.text("重新发送").removeClass("disabled").on({ "click": fn_sendSMS });
                        clearInterval(intervalId);
                    } else {
                        target.text((--currentSecond) + "秒后重新发送");
                    }
                }, 1000);
            }
        });
    </script>
    <style>
        .mycode {
            display: inline-block;
            width: 120px;
            height: 40px;
            vertical-align: middle;
            border-radius: 10px;
            box-shadow: #000000 inset 0px 0px 2px;
        }
    </style>

</head>

<body>

    <div class="content">
        <h1>验证码倒计时</h1>
        <div class="list-block">
            <ul>
                <!-- Text inputs -->
                <li>
                    <!-- Text inputs -->
                    <div class="item-content">
                        <div class="item-media"></div>
                        <div class="item-inner">
                            <div class="item-input">
                                <input id="phoneCode" type="text" placeholder="请输入手机验证码" />
                            </div>
                            <a id="getCode" href="#" class="button button-light">获取验证码 </a>
                        </div>
                    </div>
                </li>
            </ul>
            <h3 id="result"></h3>
        </div>

    </div>
</body>

</html>